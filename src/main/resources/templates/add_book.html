<!-- ADD BOOK FORM -->
<div th:if="${ebook.id} == null">
    <form th:action="@{/admin/books/add}"
          th:object="${ebook}"
          method="post"
          enctype="multipart/form-data">

        <!-- TITLE -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Title</label>
            <input type="text" th:field="*{title}" class="form-control" required>
        </div>

        <!-- AUTHOR -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Author</label>
            <input type="text" th:field="*{author}" class="form-control" required>
        </div>

        <!-- YEAR -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Year</label>
            <input type="number" th:field="*{year}" class="form-control"
                   min="1500" max="2030" required>
        </div>

        <!-- CATEGORY -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Category</label>
            <input type="text" th:field="*{category}" class="form-control" required>
        </div>

        <!-- FILE -->
        <div class="mb-3">
            <label class="form-label fw-semibold">PDF File</label>
            <input type="file" name="file" accept="application/pdf" class="form-control">
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-success px-4 btn-lg">Save</button>
            <a href="/admin/books" class="btn btn-secondary px-4 btn-lg">Cancel</a>
        </div>
    </form>
</div>



<!-- EDIT BOOK FORM -->
<div th:if="${ebook.id} != null">
    <form th:action="@{/admin/books/edit/{id}(id=${ebook.id})}"
          th:object="${ebook}"
          method="post"
          enctype="multipart/form-data">

        <!-- TITLE -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Title</label>
            <input type="text" th:field="*{title}" class="form-control" required>
        </div>

        <!-- AUTHOR -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Author</label>
            <input type="text" th:field="*{author}" class="form-control" required>
        </div>

        <!-- YEAR -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Year</label>
            <input type="number" th:field="*{year}" class="form-control"
                   min="1500" max="2030" required>
        </div>

        <!-- CATEGORY -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Category</label>
            <input type="text" th:field="*{category}" class="form-control" required>
        </div>

        <!-- FILE -->
        <div class="mb-3">
            <label class="form-label fw-semibold">PDF File</label>
            <input type="file" name="file" accept="application/pdf" class="form-control">

            <div th:if="${ebook.fileName != null}">
                <small class="text-muted">
                    Current file:
                    <a th:href="@{'/admin/books/open/' + ${ebook.id}}" target="_blank">
                        View PDF
                    </a>
                </small>
            </div>
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-warning px-4 btn-lg">Update</button>
            <a href="/admin/books" class="btn btn-secondary px-4 btn-lg">Cancel</a>
        </div>
    </form>
</div>
